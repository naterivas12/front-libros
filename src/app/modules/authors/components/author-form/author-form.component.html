<form [formGroup]="authorForm" (ngSubmit)="onSubmit()" class="p-4">
  <div class="mb-3">
    <label for="name" class="form-label">Nombre</label>
    <input type="text" class="form-control" id="name" formControlName="name" />
    <div
      class="invalid-feedback"
      *ngIf="
        authorForm.get('name')?.errors?.required &&
        authorForm.get('name')?.touched
      "
    >
      El nombre es requerido
    </div>
    <div
      class="invalid-feedback"
      *ngIf="authorForm.get('name')?.errors?.minlength"
    >
      El nombre debe tener al menos 2 caracteres
    </div>
    <div
      class="invalid-feedback"
      *ngIf="authorForm.get('name')?.errors?.maxlength"
    >
      El nombre no puede tener más de 100 caracteres
    </div>
  </div>

  <div class="mb-3">
    <label for="biography" class="form-label">Biografía</label>
    <textarea
      class="form-control"
      id="biography"
      formControlName="biography"
      rows="3"
    ></textarea>
    <div
      class="invalid-feedback"
      *ngIf="
        authorForm.get('biography')?.errors?.required &&
        authorForm.get('biography')?.touched
      "
    >
      La biografía es requerida
    </div>
  </div>

  <div class="mb-3">
    <label for="birthDate" class="form-label">Fecha de Nacimiento</label>
    <input
      type="date"
      class="form-control"
      id="birthDate"
      formControlName="birthDate"
    />
    <div
      class="invalid-feedback"
      *ngIf="
        authorForm.get('birthDate')?.errors?.required &&
        authorForm.get('birthDate')?.touched
      "
    >
      La fecha de nacimiento es requerida
    </div>
    <div
      class="invalid-feedback"
      *ngIf="authorForm.get('birthDate')?.errors?.futureDate"
    >
      La fecha no puede ser futura
    </div>
  </div>

  <div class="mb-3">
    <label for="gender" class="form-label">Género</label>
    <select class="form-control" id="gender" formControlName="gender">
      <option value="">Seleccione un género</option>
      <option value="M">Masculino</option>
      <option value="F">Femenino</option>
      <option value="O">Otro</option>
    </select>
    <div
      class="invalid-feedback"
      *ngIf="
        authorForm.get('gender')?.errors?.required &&
        authorForm.get('gender')?.touched
      "
    >
      El género es requerido
    </div>
  </div>

  <div class="d-flex justify-content-end gap-2">
    <button type="button" class="btn btn-secondary" (click)="onCancel()">
      Cancelar
    </button>
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="!authorForm.valid"
    >
      Guardar
    </button>
  </div>
</form>
